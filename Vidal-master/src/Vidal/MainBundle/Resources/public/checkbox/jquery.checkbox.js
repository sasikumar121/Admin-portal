!function(e){e.fn.checkbox=function(){e(this).css({position:"absolute",left:"-9999px"}).each(function(){var c=e(this);if(c.next("span.checkbox").length<1){var s=e('<span class="checkbox" style="display:inline-block"></span>');c.after(s),c.is(":checked")&&s.addClass("checked"),c.is(":disabled")&&s.addClass("disabled"),s.click(function(){return s.is(".disabled")?void 0:(c.is(":checked")?(c.removeAttr("checked"),s.removeClass("checked")):(c.prop("checked",!0),s.addClass("checked")),c.change(),!1)}),c.parent("label").add('label[for="'+c.attr("id")+'"]').click(function(){return s.click(),!1}),c.change(function(){c.is(":checked")?s.addClass("checked"):s.removeClass("checked")}).keydown(function(e){!c.parent("label").length||13!=e.which&&32!=e.which||s.click()}).focus(function(){s.is(".disabled")||s.addClass("focused")}).blur(function(){s.removeClass("focused")}),e(document.body).on("refresh",c,function(){c.is(":checked")?s.addClass("checked"):s.removeClass("checked"),c.is(":disabled")?s.addClass("disabled"):s.removeClass("disabled")})}})}}(jQuery),$(document).ready(function(){$(".checkbox").checkbox()});